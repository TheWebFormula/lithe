<article>
  <header>
    <h1>Templates</h1>
  </header>

  <div class="article-main">
    <nav class="links-nav">
      <h2>Links</h2>
      <ul class="links">
        <li><a href="#expressions">Expressions and bindings</a></li>
        <li><a href="#templates">Template HTML</a></li>
        <li><a href="#attributes">Dynamic attribute values</a></li>
        <li><a href="#style-object">Style attribute objects</a></li>
      </ul>
    </nav>

    <div class="article-content">

      <section id="expressions" aria-label="Expressions and binding">
        <mc-card>
          <h2 slot="headline">Expressions and bindings</h2>
          <div slot="supporting-text">Templates are simply Javascript template literals. This means building template expressions is familiar and strait forward. There
            is a <strong>html</strong> tag function for rendering text as html.</div>
        
        
          <div style="margin-top: 42px;"><strong>Plain text variable:</strong> ${page.plainText}</div>
        
          <div style="margin: 42px 0px;">
            <div class="mc-font-title-large" style="margin-bottom: 8px;">Signal variable</div>
        
            <mc-textfield value="${page.signalVar}" oninput="page.signalVar.value = this.value" label="Update value" style="margin-bottom: 12px;"></mc-textfield>
            <div><strong style="color: #444">Bound</strong> ${page.signalVar}</div>
          </div>
        
        
          <div style="margin: 42px 0px;">
            <div class="mc-font-title-large" style="margin-bottom: 8px;">Dynamically computing HTML</div>
            <mc-switch checked="${page.showFirst}" onchange="page.showFirst.value = this.checked" label-right="Switch HTML"></mc-switch>
            ${html(() => {
              return page.showFirst.value ?
                html`<div>First</div>` :
                html`<div>Second</div>`;
            })}
          </div>
        
          <div style="margin: 42px 0px;">
            <div class="mc-font-title-large" style="margin-bottom: 8px;">Looping with Signals</div>
            <mc-textfield id="valueinput" placeholder="...value"></mc-textfield>
            <mc-button onclick="page.addValue(valueinput.value);" style="margin-top: 8px;">Add value</mc-button>
            ${html(() => page.loopVar.value.map(item => html`<div>Value: ${item.value}</div>`))}
          </div>
          
        
          <!--
            HTML comments can be used on expressions
            (inspect this doc to find the comment with values)

            commented out ${page.plainText}
            commented out ${page.signalVar.value}
          -->
        
          <code-block language="html"><pre>
${`<!-- page.html -->
<div><strong>Plain text variable:</strong> ${page.plainText}</div>

<div>
  <div class="mc-font-title-large">Signal variable</div>
  <mc-textfield value="\${page.signalVar}" oninput="page.signalVar.value = this.value" label="Update value"></mc-textfield>
  <div><strong style="color: #444">Bound</strong> \${page.signalVar}</div>
</div>


<div>
  <div class="mc-font-title-large">Dynamically computing HTML</div>
  <mc-switch checked="\${page.showFirst}" onchange="page.showFirst.value = this.checked">Switch HTML</mc-switch>
  \${html(() => (
    page.showFirst.value ?
      html\`<div>First</div>\` :
      html\`<div>Second</div>\`
  ))}
</div>

<div>
  <div class="mc-font-title-large">Looping with Signals</div>
  <mc-textfield id="valueinput" placeholder="...value"></mc-textfield>
  <mc-button onclick="page.addValue(valueinput.value);">Add value</mc-button>
  \${html(() => page.loopVar.value.map(item => html\`<div>Value: \${item.value}</div>\`))}
</div>

<!--
  HTML comments can be used on expressions
  (inspect this doc to find the comment with values)

  commented out \${page.plainText}
  commented out \${page.signalVar.value}
-->`}
          </pre></code-block>
          <code-block language="javascript"><pre>
${`// page.js
import { Component } from '@thewebformula/lithe';
import htmlTemplate from './page.html';

class PageClass extends Component {
  static title = 'Template html file';

  // Load HTML template file
  static htmlTemplate = htmlTemplate;
  

  plainText = 'some value';
  signalVar = new Signal('signalVar value');
  loopVar = new Signal([
    { value: 'One' },
    { value: 'Two' },
    { value: 'Three' }
  ]);
  showFirst = new Signal(true);

  
  constructor() {
    super();
  }

  addValue(value) {
    if (!value) return;
    this.loopVar.value = [...this.loopVar.value, {value}];
  }
}
customElements.define('page-component-name', PageClass);`}
          </pre></code-block>
        </mc-card>
      </section>


      <section id="templates" aria-label="Template example">
        <mc-card>
          <h2 slot="headline">Template HTML</h2>
          <div slot="supporting-text">There are two methods for including template HTML in pages and components</div>
          <ul slot="supporting-text">
            <li>HTML file</li>
            <li>Page function</li>
          </ul>
        
        
        
          <div style="margin-top: 42px; margin-bottom: -8px;">
            <div style="font-size: 24px;">HTML file</div>
          </div>
          <code-block language="html"><pre>
${`<!-- page.html -->
<h3>Page</h3>
<div>Content</div>`}
        </pre></code-block>
        <code-block language="javascript"><pre>
${`// page.js
import { Component } from '@thewebformula/lithe';
import htmlTemplate from './page.html';

class PageClass extends Component {
  static title = 'Template html file';

  // Load HTML template file
  static htmlTemplate = htmlTemplate;
  
  constructor() {
    super();
  }
}
customElements.define('page-component-name', PageClass);`}
          </pre></code-block>
        
          <div style="margin-top: 42px; margin-bottom: 12px;">
            <div style="font-size: 24px;">Page function</div>
          </div>
        
          <code-block language="javascript"><pre>
${`// page.js page function
import { Component, html } from '@thewebformula/lithe';

class PageClass extends Component {
  static title = 'Template function';

  // Load HTML template file
  static htmlTemplate = htmlTemplate;
  
  constructor() {
    super();
  }

  // Template function
  template() {
    return html\`
      <h3>Page</h3>
      <div>Content</div>
    \`;
  }
}
customElements.define('page-component-name', PageClass);`}
          </pre></code-block>
        </mc-card>
      </section>



      <section id="attributes" aria-label="Dynamic attribute values">
        <mc-card>
          <h2 slot="headline">Dynamic attribute values</h2>
          <div slot="supporting-text">You can use Signals to dynamically set attributes</div>
      
          <div style="margin-top: 42px; margin-bottom: -8px;">
            <div style="margin: 42px 0px;">
              <div class="mc-font-title-large" style="margin-bottom: 8px;">Dynamically set attribute values</div>
              <mc-switch checked onchange="page.setDisplay(this.checked)" label-right="hide / show"></mc-switch>
              <div style="height: 18px;">
                <div style="display: ${this.display.value}">Hit the switch to hide</div>
              </div>
            </div>

            <div style="margin: 42px 0px;">
              <div class="mc-font-title-large" style="margin-bottom: 8px;">Mark input as required</div>
              <mc-switch checked onchange="page.required.value = this.checked; setTimeout(() => document.querySelector('#required-input').reportValidity(), 100)" label-right="required"></mc-switch>
              <div style="height: 60px;">
                <mc-textfield id="required-input" type="text" error-text="required" ${html(() => this.required.value ? 'required' : '')} ></mc-textfield>
              </div>
            </div>
          </div>

          <code-block language="html">
            <pre>
${`<!-- inject values into attributes -->
<div style="display: \${this.display.value}">Hit the switch to hide</div>

<!-- Dynamically add / remove attributes -->
<mc-textfield type="text" error-text="required" \${html(()=> this.required.value ? 'required' : '')} ></mc-textfield>`}
            </pre>
          </code-block>
        </mc-card>
      </section>


      <section id="style-object" aria-label="Style attribute objects">
        <mc-card>
          <h2 slot="headline">Style attribute objects</h2>
          <div slot="supporting-text">You can use an object to define an elements styles</div>
      
          <div style="margin-top: 42px; margin-bottom: -8px;">
            <div style="margin: 42px 0px;">
              <div class="mc-font-title-large" style="margin-bottom: 8px;">Dynamically set attribute values</div>
              <div style="${{
                color: 'white',
                backgroundColor: '#3f51b5',
                padding: '12px',
                borderRadius: '4px'
              }}">Styled using an object on the style attribute</div>
            </div>
          </div>
      
          <code-block language="html">
            <pre>
${`<!-- Use an object for an elements style -->
<div style="\${{
  color: 'white',
  backgroundColor: '#3f51b5',
  padding: '12px',
  borderRadius: '4px'
}}">Styled by object</div>`}
                  </pre>
          </code-block>
        </mc-card>
      </section>
    </div>
  </div>
</article>
